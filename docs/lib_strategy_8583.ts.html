

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: lib/strategy/8583.ts | MSPayment</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="">
        
            <img src="img/toast-ui.png" width="100%" height="100%">
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">MSPayment</a></h1>
        
            <span class="version">v1.0.0</span>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
    <div class="lnb-api hidden"><h3>Modules</h3><ul><li><a href="module-Connections.html">Connections</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Connections_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Connections.html#~rcesClients">rcesClients</a></li></ul></div></li><li><a href="module-DataBase.html">DataBase</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:DataBase_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-DataBase.html#~getMessage">getMessage</a></li><li><a href="module-DataBase.html#~getMessageById">getMessageById</a></li><li><a href="module-DataBase.html#~saveMessage">saveMessage</a></li></ul></div></li><li><a href="module-Loop.html">Loop</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Loop_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Loop.html#~movistar">movistar</a></li><li><a href="module-Loop.html#~movistar">movistar</a></li></ul></div></li><li><a href="module-Movistar.html">Movistar</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Movistar_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Movistar.html#~connect">connect</a></li><li><a href="module-Movistar.html#~connect">connect</a></li><li><a href="module-Movistar.html#~getInstance">getInstance</a></li><li><a href="module-Movistar.html#~getInstance">getInstance</a></li><li><a href="module-Movistar.html#~getMti">getMti</a></li><li><a href="module-Movistar.html#~getProductNr">getProductNr</a></li><li><a href="module-Movistar.html#~getSocket">getSocket</a></li><li><a href="module-Movistar.html#~getSocket">getSocket</a></li><li><a href="module-Movistar.html#~message0210">message0210</a></li><li><a href="module-Movistar.html#~message0430">message0430</a></li><li><a href="module-Movistar.html#~message0800">message0800</a></li><li><a href="module-Movistar.html#~onData">onData</a></li><li><a href="module-Movistar.html#~sendMessage0420">sendMessage0420</a></li><li><a href="module-Movistar.html#~sendMessage0810">sendMessage0810</a></li><li><a href="module-Movistar.html#~setConnecting">setConnecting</a></li></ul></div></li><li><a href="module-RCES.html">RCES</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:RCES_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-RCES.html#~movistar">movistar</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-RCES.html#~addIdRquest">addIdRquest</a></li><li><a href="module-RCES.html#~getSocket">getSocket</a></li><li><a href="module-RCES.html#~getSocket">getSocket</a></li><li><a href="module-RCES.html#~messageFromRCES">messageFromRCES</a></li><li><a href="module-RCES.html#~posDate">posDate</a></li><li><a href="module-RCES.html#~posDate">posDate</a></li><li><a href="module-RCES.html#~saveRequestMessage">saveRequestMessage</a></li><li><a href="module-RCES.html#~setSocketMovistar">setSocketMovistar</a></li><li><a href="module-RCES.html#~setSocketMovistar">setSocketMovistar</a></li></ul></div></li><li><a href="module-Server.html">Server</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Server_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Server.html#~host">host</a></li><li><a href="module-Server.html#~host">host</a></li><li><a href="module-Server.html#~movistar">movistar</a></li><li><a href="module-Server.html#~net">net</a></li><li><a href="module-Server.html#~port">port</a></li><li><a href="module-Server.html#~port">port</a></li><li><a href="module-Server.html#~Socket">Socket</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Server.html#~main">main</a></li></ul></div></li><li><a href="module-Strategy.html">Strategy</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Strategy_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Strategy.html#~addYearLocalTransactionDate">addYearLocalTransactionDate</a></li><li><a href="module-Strategy.html#~getBitmap">getBitmap</a></li><li><a href="module-Strategy.html#~getFields">getFields</a></li><li><a href="module-Strategy.html#~getMessage">getMessage</a></li><li><a href="module-Strategy.html#~getMessage0210">getMessage0210</a></li><li><a href="module-Strategy.html#~getMti">getMti</a></li><li><a href="module-Strategy.html#~getproduct_NR">getproduct_NR</a></li><li><a href="module-Strategy.html#~getResponseCode">getResponseCode</a></li><li><a href="module-Strategy.html#~getScondaryBitmap">getScondaryBitmap</a></li><li><a href="module-Strategy.html#~getSystemTraceAuditNumber">getSystemTraceAuditNumber</a></li><li><a href="module-Strategy.html#~getTrancenr">getTrancenr</a></li><li><a href="module-Strategy.html#~setFields">setFields</a></li><li><a href="module-Strategy.html#~setMti">setMti</a></li><li><a href="module-Strategy.html#~setProduct_NR">setProduct_NR</a></li></ul></div></li><li><a href="module-Utils.html">Utils</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Utils_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-Utils.html#~fields">fields</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Utils.html#.unpack_ISO">unpack_ISO</a></li><li><a href="module-Utils.html#~longitudParam">longitudParam</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="ISO8583.html">ISO8583</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="ISO8583_sub"></div></li><li><a href="module-Movistar-The%2520Singleton_s%2520constructor%2520should%2520always%2520be%2520private%2520to%2520prevent%2520direct.html">The Singleton's constructor should always be private to prevent direct</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Movistar~The Singleton's constructor should always be private to prevent direct_sub"></div></li><li><a href="module-RCES-RCES.html">RCES</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:RCES~RCES_sub"></div></li><li><a href="module-Strategy-Usually,%2520the%2520Context%2520accepts%2520a%2520mti%2520through%2520the%2520constructor,%2520but%2520also%250Dprovides%2520a%2520setter%2520to%2520change%2520it%2520at%2520runtime..html">Usually, the Context accepts a mti through the constructor, but alsoprovides a setter to change it at runtime.</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Strategy~Usually, the Context accepts a mti through the constructor, but alsoprovides a setter to change it at runtime._sub"></div></li><li><a href="Movistar.html">Movistar</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Movistar_sub"></div></li><li><a href="MTI0200.html">MTI0200</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MTI0200_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MTI0200.html#header">header</a></li><li><a href="MTI0200.html#mti">mti</a></li></ul></div></li><li><a href="MTI0210.html">MTI0210</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MTI0210_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MTI0210.html#header">header</a></li><li><a href="MTI0210.html#mti">mti</a></li></ul></div></li><li><a href="MTI0420.html">MTI0420</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MTI0420_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MTI0420.html#header">header</a></li><li><a href="MTI0420.html#mti">mti</a></li></ul></div></li><li><a href="MTI0430.html">MTI0430</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MTI0430_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MTI0430.html#header">header</a></li><li><a href="MTI0430.html#mti">mti</a></li></ul></div></li><li><a href="MTI0800.html">MTI0800</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MTI0800_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MTI0800.html#header">header</a></li><li><a href="MTI0800.html#mti">mti</a></li></ul></div></li><li><a href="MTI0810.html">MTI0810</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="MTI0810_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MTI0810.html#header">header</a></li><li><a href="MTI0810.html#mti">mti</a></li></ul></div></li><li><a href="RCES.html">RCES</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="RCES_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Global</h3><ul><li><a href="global.html#getHeader">getHeader</a></li><li><a href="global.html#getHeaderMessage">getHeaderMessage</a></li><li><a href="global.html#getMessage">getMessage</a></li><li><a href="global.html#getMessageById">getMessageById</a></li><li><a href="global.html#getMti">getMti</a></li><li><a href="global.html#hex2bin">hex2bin</a></li><li><a href="global.html#hexa_bin_Bitmap">hexa_bin_Bitmap</a></li><li><a href="global.html#numberOfDataElements">numberOfDataElements</a></li><li><a href="global.html#saveMessage">saveMessage</a></li><li><a href="global.html#Utils">Utils</a></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module Strategy
 * Clase para manejar los msj entrantes y salientes de RCES
 * @class ISO8583
 */
import { hexa_bin_Bitmap, numberOfDataElements } from "../../util/hexa_bin";
import { merge } from "../../util/merges";
import { Field } from "./fields";
import { MTI } from "./MTI";

export class ISO8583 {
  /**
   * @module Strategy
   * @class ISO8583
   * @classdesc The Context maintains a reference to one of the Strategy
   * objects. The Context does not know the concrete class of a strategy. It
   * should work with all strategies via the Strategy interface.
   */
  private mti: MTI;
  /**
   * @module Strategy
   * @desc contiene los data elements ordenados en un objeto
   * @type {object}
   */
  protected fieldsIso: {
    [keys: string]: Field;
  } = {
    MTI: {
      subcampo: 0,
      tipo: "n",
      longitud: 4,
      mandatorio: false,
      value: "info",
    },
    SecundaryBitmap: {
      subcampo: 1,
      tipo: "an",
      longitud: 16,
      mandatorio: false,
      value: "info",
    },
    ProcessingCode: {
      subcampo: 3,
      tipo: "n",
      longitud: 6,
      mandatorio: false,
      value: "info",
    }, // recarga code: “650500”
    TransactionAmount: {
      subcampo: 4,
      tipo: "n",
      longitud: 12,
      mandatorio: false,
      value: "info",
    },
    TransmissionDateTime: {
      subcampo: 7,
      tipo: "n",
      longitud: 10,
      mandatorio: false,
      value: "info",
    },
    SystemsTraceAuditNumber: {
      subcampo: 11,
      tipo: "n",
      longitud: 6,
      mandatorio: false,
      value: "info",
    },
    LocalTransactionTime: {
      subcampo: 12,
      tipo: "n",
      longitud: 6,
      mandatorio: false,
      value: "info",
    },
    LocalTransactionDate: {
      subcampo: 13,
      tipo: "n",
      longitud: 4,
      mandatorio: false,
      value: "info",
    },
    SettlementDate: {
      subcampo: 15,
      tipo: "n",
      longitud: 4,
      mandatorio: false,
      value: "info",
    },
    CaptureDate: {
      subcampo: 17,
      tipo: "n",
      longitud: 4,
      mandatorio: false,
      value: "info",
    },
    AcquiringInstitutionIdentificationCode: {
      subcampo: 32,
      tipo: "n",
      longitud: 11,
      mandatorio: false,
      value: "info",
    }, // Este subcampo debe der asignado por Telefónica Movistar Valor fijo del subcampo “03XXX”
    Track2Data: {
      subcampo: 35,
      tipo: "ans",
      longitud: 37,
      mandatorio: false,
      value: "info",
    },
    RetrievalReferenceNumber: {
      subcampo: 37,
      tipo: "arn",
      longitud: 12,
      mandatorio: false,
      value: "info",
    },
    AuthorizationIdentificationResponse: {
      subcampo: 38,
      tipo: "an",
      longitud: 6,
      mandatorio: false,
      value: "info",
    },
    ResponseCode: {
      subcampo: 39,
      tipo: "an",
      longitud: 2,
      mandatorio: false,
      value: "info",
    },
    CardAcceptorTerminalID: {
      subcampo: 41,
      tipo: "ans",
      longitud: 16,
      mandatorio: false,
      value: "info",
    },
    CardAcceptorNameLocation: {
      subcampo: 43,
      tipo: "ans",
      longitud: 40,
      mandatorio: false,
      value: "info",
    },
    AdditionalData: {
      subcampo: 48,
      tipo: "ans",
      longitud: 47,
      mandatorio: false,
      value: "info",
    }, // antes long de 30
    TransactionCurrencyCode: {
      subcampo: 49,
      tipo: "n",
      longitud: 3,
      mandatorio: false,
      value: "info",
    },
    TerminalData: {
      subcampo: 60,
      tipo: "ans",
      longitud: 15,
      mandatorio: false,
      value: "info",
    }, // antes long de 19
    CardIssuerAndAuthorizer: {
      subcampo: 61,
      tipo: "ans",
      longitud: 16,
      mandatorio: false,
      value: "info",
    }, // antes long de 22
    NetworkManagementInformationCode: {
      subcampo: 70,
      tipo: "n",
      longitud: 3,
      mandatorio: false,
      value: "info",
    },
    OriginalDataElements: {
      subcampo: 90,
      tipo: "n",
      longitud: 42,
      mandatorio: false,
      value: "info",
    },
    ReceivingIntitutionIDCode: {
      subcampo: 100,
      tipo: "n",
      longitud: 11,
      mandatorio: false,
      value: "info",
    },
    AccountIdentification1: {
      subcampo: 102,
      tipo: "ans",
      longitud: 12,
      mandatorio: false,
      value: "info",
    }, // antes long de 28
    PosPreauthorizationChargebackData: {
      subcampo: 126,
      tipo: "ans",
      longitud: 20,
      mandatorio: false,
      value: "info",
    }, // long real 100, se usa 20 para pureba
  };

  /**
   * @module Strategy
   * @constructor
   * Usually, the Context accepts a mti through the constructor, but also
   * provides a setter to change it at runtime.
   */
  constructor(mti: MTI) {
    this.mti = mti;
  }

  /**
   * @module Strategy
   * @function setMti
   * @desc Usually, the Context allows replacing a mti object at runtime.
   */
  public setMti(mti: MTI) {
    this.mti = mti;
  }
  /**
   * @module Strategy
   * @function setFields
   * @desc setea los data elements del mensaje
   * @param {object} dataElements data elements del msj
   * @param { string } mti tipo de mensaje
   */
  public setFields(dataElements: { [key: string]: string }, mti: string) {
    merge(mti, dataElements, this.fieldsIso);
  }
  /**
   * @module Strategy
   * @function getFields
   * @desc Devuelve los data elements ordenados en un objeto
   * @returns {object} data elements en formato objeto
   */
  getFields(): {
    [keys: string]: Field;
  } {
    return this.fieldsIso;
  }
  /**
   * @module Strategy
   * @desc bit map primario
   * @type {string}
   */
  private bitmap: string = "";
  /**
   * @module Strategy
   * @function getBitmap
   * @desc devuelve el bitmap primario en formato de cadena de caracteres
   * @returns {string}
   */
  public getBitmap(): string {
    let DEs: number[] = numberOfDataElements(this.fieldsIso);
    let json_bitmap = hexa_bin_Bitmap(DEs);
    this.bitmap = json_bitmap.hexaPB;
    return this.bitmap;
  }
  /**
   * @module Strategy
   * @desc bit map secundario
   * @type {string}
   */
  private secondaryBitmap: string = "";
  /**
   * @module Strategy
   * @function getScondaryBitmap
   * @desc devuelve el bitmap secundario en formato de cadena de caracteres
   * @returns {string}
   */
  public getScondaryBitmap(): string {
    let DEs: number[] = numberOfDataElements(this.fieldsIso);
    let json_bitmap = hexa_bin_Bitmap(DEs);
    this.secondaryBitmap = json_bitmap.hexaSB;
    return this.secondaryBitmap;
  }
  /**
   * @module Strategy
   * @function getTrancenr
   * @desc devuelve el retrieval reference number usado para el id de tablas en la base de datos
   * @returns {number}
   */
  getTrancenr(): number {
    return Number(this.fieldsIso["RetrievalReferenceNumber"]["value"]);
  }
  /**
   * @module Strategy
   * @function getMessage
   * @desc devuelve el mensaje en formato iso8583
   * @returns {string}
   */
  public getMessage(): string {
    let msg = "";
    this.fieldsIso.SecundaryBitmap["value"] = this.getScondaryBitmap();
    this.fieldsIso.SecundaryBitmap["mandatorio"] = true;
    msg = this.mti.getHeaderMessage(this.getBitmap());
    const keys = Object.keys(this.fieldsIso);
    for (let i = 0; i &lt; keys.length; i++) {
      if (this.fieldsIso[keys[i]]["mandatorio"]) {
        msg = msg.concat(this.fieldsIso[keys[i]]["value"].toString());
      }
    }
    return msg;
  }
  /**
   * @module Strategy
   * @function getMessage0210
   * @desc devuelve el mensaje de tipo 0210 para RCES
   * @returns {string}
   */
  public getMessage0210(): string {
    let msg = "";
    msg = msg.concat(
      String.fromCharCode(2),
      this.fieldsIso["AccountIdentification1"]["value"].toString(), // Account (6)
      this.fieldsIso["CardAcceptorNameLocation"]["value"]
        .toString()
        .substr(0, 10), // Pos_id (10)
      this.fieldsIso["LocalTransactionDate"]["value"].toString(), // pos date (8)
      this.fieldsIso["LocalTransactionTime"]["value"].toString(), // pos time (6)
      this.fieldsIso["PosPreauthorizationChargebackData"]["value"]
        .toString()
        .substr(8, 10), // DNB (10)
      this.fieldsIso["TransactionAmount"]["value"].toString().substr(2, 10), // Amount (10)
      this.fieldsIso["PosPreauthorizationChargebackData"]["value"]
        .toString()
        .substr(7, 1), // Product group (1)
      this.getproduct_NR(), // PRODUCT_NR no viene de MOVISTAR PREGUNTAR POR QUE?
      "2", // 2 fijo (1)
      this.fieldsIso["ResponseCode"]["value"].toString(), // response code (2)
      this.fieldsIso["AuthorizationIdentificationResponse"]["value"].toString(), // Authorization NR (6)
      this.fieldsIso["RetrievalReferenceNumber"]["value"]
        .toString()
        .padStart(10, "0"), // ID (10)
      "00", // ERROR si hay algun error se notifica mediante este parametro
      String.fromCharCode(3)
    );
    return msg;
  }
  /**
   * @module Strategy
   * @desc product namber usado para referenciar mensajes
   * @type {string}
   */
  private product_NR: string = "";
  /**
   * @module Strategy
   * @function setProduct_NR
   * @desc recibe el product number en formato de cadena de caracteres para configurarlo en la instancia
   * @param {string} product_NR
   */
  public setProduct_NR(product_NR: string) {
    this.product_NR = product_NR;
  }
  /**
   * @module Strategy
   * @function getproduct_NR
   * @desc devuelve el product number seteado previamente
   * @returns {string}
   */
  public getproduct_NR(): string {
    return this.product_NR ? this.product_NR : "0000";
  }
  /**
   * @module Strategy
   * @function getResponseCode
   * @desc devuelve el response code de los data elements
   * @returns {number}
   */
  getResponseCode(): number {
    return Number(this.fieldsIso["ResponseCode"]["value"]);
  }
  /**
   * @module Strategy
   * @function addYearLocalTransactionDate
   * @desc setea el valor de local transaction date para agregarle el año
   * @param {number} year
   */
  addYearLocalTransactionDate(year: number) {
    this.fieldsIso.LocalTransactionDate["value"] =
      year.toString() + this.fieldsIso.LocalTransactionDate["value"];
  }
  /**
   * @module Strategy
   * @function getSystemTraceAuditNumber
   * @desc devuelve el system trace audit number de los data elements
   * @returns {number}
   */
  getSystemTraceAuditNumber(): number {
    return Number(this.fieldsIso["SystemsTraceAuditNumber"]["value"]);
  }
  /**
   * @module Strategy
   * @function getMti
   * @desc devuelve el tipo de mensaje
   * @returns {string}
   */
  public getMti(): string {
    return this.mti.getMti();
  }
}
</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="img/toast-ui.png" style="">
    <div class="footer-text">NHN Entertainment. Frontend Development Lab</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>
